<!DOCTYPE html>
<html>
  <head>
    <title>crosswire</title>
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Sarala:400,700" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
  </head>
  <body>
    <div id="container" ng-app="index" ng-controller="SongShareCtrl as controller">
      <div id="user" ng-show="showUserBox">
        <h2>{{ loggedInUsername }}</h2>
        <div id="login-and-registration" ng-show="!token">
          <div id="login-and-registration-tabs">
            <button id="login-tab" ng-click="activeTab = 0" ng-class="{'active-tab': activeTab == '0'}">Login</button>
            <button id="register-tab" ng-click="activeTab = 1" ng-class="{'active-tab': activeTab == '1'}">Register</button>
          </div>
          <form id="login" ng-show="activeTab === 0">
            <input type="text" ng-model="username" placeholder="Username" class="login-input">
            <input type="password" ng-model="password" placeholder="Password" class="login-input">
            <button id="login-button" ng-click="actions.login(username, password)">Login</button>
          </form>
          <form id="register" ng-show="activeTab === 1">
            <input type="text" ng-model="username" placeholder="Username" class="login-input">
            <input type="password" ng-model="password" placeholder="Password" class="login-input">
            <input type="password" ng-model="confirmPassword" placeholder="Confirm" class="login-input">
            <button id="register-button" ng-click="actions.register(username, password)">Register</button>
          </form>
        </div>
        <div id="friend-section" ng-show="token">
          <h3 class="friends-title">Friends</h3>
          <form id="friend-adder">
            <input type="text" ng-model="friendName" placeholder="Name">
            <button ng-click="actions.addFriend(friendName)"><i class="fa fa-plus"></i></button>
          </form>
          <ul class="friend-list">
            <li ng-repeat="friend in friends" class="friend">{{ friend }}</li>
          </ul>
        </div>
        <div id="user-actions" ng-show="token">
          <button id="make-room" ng-click="actions.join(loggedInUsername)">Join Your Room</button>
          <button id="log-out" ng-click="actions.logout()">Logout</button>
        </div>
      </div>
      <div id="alert-box" ng-class="{'alert-flash': showAlert }"> </div>
      <section id="header">
        <h2> <strong>cross</strong>wire</h2>
        <div id="room-joiner">
          <input type="text" ng-model="desiredRoom" placeholder="Room">
          <button ng-click="actions.join(desiredRoom)">Join Room</button>
        </div>
        <button id="you-button" ng-click="showUserBox = !showUserBox; flashYouButton = false" ng-class="{'flash-you-button': flashYouButton}" class="glow">You</button>
      </section>
      <section id="body">
        <div id="media-controller" ng-show="room">
          <div class="media-controller-controls">
            <button ng-click="actions.playPause(true)"> <i class="fa fa-play"></i></button>
            <button ng-click="actions.playPause(false)"><i class="fa fa-pause"></i></button>
            <button ng-click="actions.change(nowPlaying - 1)"><i class="fa fa-step-backward"></i></button>
            <button ng-click="actions.change(nowPlaying + 1)"><i class="fa fa-step-forward"> </i></button>
            <div class="volume-control"><i ng-show="volume &lt; 10" class="volume-icon fa fa-volume-off"></i><i ng-show="volume &gt;= 10 &amp;&amp; volume &lt;= 90" class="volume-icon fa fa-volume-down"></i><i ng-show="volume &gt; 90" class="volume-icon fa fa-volume-up"></i>
              <input ng-model="volume" type="range" minimum="0" maximum="100" ng-change="actions.updateVolume()">
            </div>
          </div>
        </div>
        <div id="list-player-holder" ng-show="room">
          <div id="song-list">
            <div id="song-adder">
              <input type="text" ng-model="urlToAdd" placeholder="URL">
              <button ng-click="actions.add(urlToAdd)">Add Song</button>
            </div>
            <ul id="songs">
              <li ng-repeat="song in list" class="song-item">
                <div class="play-symbol"><i ng-show="$index === nowPlaying" ng-click="actions.playPause(true)" class="fa fa-play"></i></div>
                <div class="song-name">{{ song.title }}</div>
                <button ng-click="actions.remove($index)">X</button>
              </li>
            </ul>
          </div>
          <div id="player-container" ng-show="currentSongDomain">
            <iframe id="SCwidget" width="100%" height="100%" scrolling="no" frameborder="no" src="https://w.soundcloud.com/player/?url=none" class="iframe"></iframe>
          </div>
        </div>
        <div id="landing-message" ng-show="!room">
          <h2>Welcome to crosswire</h2>
          <p>
            Sign in, join a playlist, or make 
            one to share with friends!
          </p>
        </div>
      </section>
      <section id="footer"></section>
      <section id="hidden" ng-show="false"></section>
      <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
      <script src="https://cdn.socket.io/socket.io-1.3.5.js"></script>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
      <script src="https://w.soundcloud.com/player/api.js"></script>
      <script src="//connect.soundcloud.com/sdk-2.0.0.js"></script>
      <script src="js/index.js"></script>
    </div>
  </body>
</html>